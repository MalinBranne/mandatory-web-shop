<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>RMG PHOTO - Photo Gallery</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://use.fontawesome.com/2e22900e44.js "></script>
    <script src="js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<style>
    .product {
        width: 200px;
        height: auto;
        border: 1px solid black;
        padding: 5px;
        margin: 20px;
        display: inline-block;

        cursor: pointer;
    }

    .pimg {

        width: 100%;
        height: auto;

    }
</style>

<body>




    <div class="container col-xs-12">

        <div class="col-xs-12 col-sm-10 col-sm-push-1" id="productsDiv" align="center">
            <h1 id="header" align="center">Seeing something you love?</h1>

            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!-- <img src="${products.image.src}" /> -->

                <div id="card">
                </div>

            </div>
            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!-- <img src="${products.image.src}" /> -->

                <div id="card">
                </div>

            </div>

            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!--<img src=´${products.image.src}´ /> -->

                <div id="card">
                </div>

            </div>
            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!-- <img src="${products.image.src}" /> -->

                <div id="card">
                </div>

            </div>

            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!-- <img src="${products.image.src}" /> -->

                <div id="card">
                </div>

            </div>

            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!-- <img src="${products.image.src}" /> -->

                <div id="card">
                </div>

            </div>

            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!-- <img src="${products.image.src}" /> -->

                <div id="card">
                </div>

            </div>
            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!-- <img src="${products.image.src}" /> -->

                <div id="card">
                </div>

            </div>
            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!-- <img src="${products.image.src}" /> -->

                <div id="card">
                </div>

            </div>
            <div class="product">

                <img class="pimg" src="img/b1.jpg" />
                <!-- <img src="${products.image.src}" /> -->

                <div id="card">
                </div>

            </div>

            <button id="checkoutBtn" onclick="switchToPage2()">Check out</button>
        </div>

    </div>


    <div class="col-xs-12" id="checkoutDiv">

        <h1 id="header" align="center">It's just one click away!</h1>



        <form id="myForm">
            <table border="0">
                <tr>
                    <td>Name:</td>
                    <td>
                        <input class="styleinput" type="text" id="fName" onkeyup="validateName()" />

                    </td>
                </tr>
                <tr>
                    <td>Last Name:</td>
                    <td>
                        <input class="styleinput" type="text" id="lName" onkeyup="validateName()" />
                        <label id="namePrompt"></label>

                    </td>
                </tr>
                <tr>
                    <td>Email:</td>
                    <td>
                        <input class="styleinput" type="text" id="email" onkeyup="validateEmail()" />
                        <label id="emailPrompt"></label>
                    </td>
                </tr>
                <tr>
                    <td>Phone number:</td>
                    <td>
                        <input class="styleinput" type="text" id="phone" onkeyup="validatePhone()" />
                        <label id="phonePrompt"></label>
                    </td>
                </tr>
                <tr>
                    <td>Street Adress:</td>
                    <td>
                        <input class="styleinput" type="text" id="street" onkeyup="validateStreet()" />
                        <label id="addressPrompt"></label>
                    </td>
                </tr>
                <tr>
                    <td>Zip:</td>
                    <td>
                        <input class="styleinput" type="text" id="zip" onkeyup="validateZip()" />
                        <label id="zipPrompt"></label>
                    </td>
                </tr>
                <tr>
                    <td>City:</td>
                    <td>
                        <input class="styleinput" type="text" id="city" onkeyup="validateCity()" />
                        <label id="cityPrompt"></label>
                    </td>

                </tr>

                <tr>
                    <td>Comment:</td>
                    <td>

                        <textarea type="text" rows="2" class="styleinput"></textarea>
                    </td>
                </tr>
            </table>
            <br />

        </form>
        <button onclick="validateForm()">Confirm</button>

        <label id="formPrompt"> </label>
        <!-- /.container -->
    </div>



    <script>
        var productspage = document.getElementById("productsDiv");
        var checkoutpage = document.getElementById("checkoutDiv");

        productspage.style.display = 'block'; // fungerar inte heller hos moster Agda,
        checkoutpage.style.display = 'none';


        //Dölj checkoutDiv när man öppnar sidan

        var products = [

            {
                name: "Bikini Top",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    src: "img/b1.jpg"

                }

            },

            {
                name: "Bikini Bottom",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    src: "img/b4.jpg"
                }

            }, {
                name: "Bikini Full Set",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    src: "b4.jpg"
                }
            },

            {
                name: "Bikini Set",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    src: "b4.jpg"
                }

            }, {
                name: "Bikini Top",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    src: "b4.jpg"
                }

            },

            {
                name: "Bikini Bottom",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    src: "b4.jpg"
                }
            }, {

                name: "Bikini Full Set",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    src: "b4.jpg"
                }
            },

            {

                name: "Bikini Set",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    src: "b4.jpg"
                }
            },
            {

                name: "Bikini Set",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    src: "b4.jpg"
                }
            },
            {

                name: "Bikini Set",
                price: 500,
                description: "Lorem ipsum dolor sit amet, consectetur elit",
                image: {
                    arc: "b4.jpg"
                }

            }
        ];

        // array av objekt som innehåller produkter

        //gör 2 listor och slå ihop dom! en med produkter och en med bilder.


        let cards = document.querySelectorAll("div > #card");

        cards.innerHTML = "hey"; //test

        for (var i in products) {

            cards[i].innerHTML = products[i].name + ", " + "Price: " + products[i].price + ", " +
                products[i].description;


        };

        //loopar ut objekten i arrayen i divvarna.

        function switchToPage2() {
            var checkoutBtn = document.getElementById("checkoutBtn");


            checkoutBtn.addEventListener('click', function () {

                productspage.style.display = 'none';
                checkoutpage.style.display = 'block';



            });
        }

        //byter till checkoutdiv när man klickar på knappen


        //validering för form nedan

        function validateName() {
            let name = document.getElementById("fName").value;
            let lastname = document.getElementById("lName").value;

            if (name.length === 0 || lastname.length === 0) {
                producePrompt("Full name required", "namePrompt", "red");
                return false;
            }

            if (!name.match(/^[a-zA-Z]+$/)) {
                producePrompt("Invalid entry", "namePrompt", "red");
                return false;
            }

            producePrompt("Verified", "namePrompt", "green");
            return true;
        }

        function validateEmail() {
            let email = document.getElementById("email").value;

            if (email.indexOf("@") === -1) {
                producePrompt("Invalid entry", "emailPrompt", "red");
                return false;
            }


            producePrompt("Verified", "emailPrompt", "green");
            return true;
        }

        function validatePhone() {
            let phone = document.getElementById("phone").value;

            if (phone.length === 0) {
                producePrompt("Required", "phonePrompt", "red");
                return false;
            }

            if (!phone.match(/^[0-9]{10}$/)) {
                producePrompt("Invalid entry", "phonePrompt", "red");
                return false;
            }


            producePrompt("Verified", "phonePrompt", "green");
            return true;
        }

        function validateStreet() {
            let address = document.getElementById("street").value;

            if (address.length === 0) {
                producePrompt("Required", "addressPrompt", "red");
                return false;
            }

            producePrompt("Verified", "addressPrompt", "Green");
            return true;
        }

        function validateZip() {
            let zipcode = document.getElementById("zip").value;

            if (zipcode.length === 0) {
                producePrompt("Required", "zipPrompt", "red");
                return false;
            }

            if (zipcode.match(/^[a-zA-Z]+$/)) {
                producePrompt("Invalid entry", "zipPrompt", "red")
                return false;
            }

            producePrompt("Verified", "zipPrompt", "Green");
            return true;
        }

        function validateCity() {
            let city = document.getElementById("city").value;

            if (city.length === 0) {
                producePrompt("Required", "cityPrompt", "red");
                return false;
            } else if (!city.match(/^[a-zA-Z]+$/)) {
                producePrompt("Invalid entry", "cityPrompt", "red");
                return false;
            }

            producePrompt("Verified", "cityPrompt", "green");
            return true;

        }

        function validateForm() {


            if (!validateName() || !validateEmail() || !validatePhone() || !validateStreet() || !validateZip() ||
                !validateCity()) {
                jsShow("formPrompt");
                producePrompt("Please check if your details are correct", "formPrompt", "red");
                setTimeout(function () {
                    jsHide("formPrompt");
                }, 10000);
            } else {
                jsShow("formPrompt");
                producePrompt("Form Sent", "formPrompt", "green");
                setTimeout(function () {

                    jsHide("namePrompt");
                    jsHide("emailPrompt");
                    jsHide("phonePrompt");
                    jsHide("addressPrompt");
                    jsHide("zipPrompt");
                    jsHide("cityPrompt");
                    jsHide("formPrompt");

                    // gör så att alla verified promptar försvinner efter form sent. Testade att lägga in alla promptar i samma jsHide men fick det inte att funka.

                    function switchToPage1() {

                        productspage.style.display = 'block';
                        checkoutpage.style.display = 'none';

                    }

                    var form = document.getElementById("myForm");
                    form.reset();

                    //tömmer vårt form efter submit


                    switchToPage1();

                    //Byter till productsDiv


                }, 3000)
            }
        }




        function jsShow(id) {
            document.getElementById(id).style.display = "block";
        };

        function jsHide(id) {
            document.getElementById(id).style.display = "none";
        };

        //funktoner för att dölja/visa saker

        function producePrompt(message, promptLocation, color) {
            document.getElementById(promptLocation).innerHTML = message;
            document.getElementById(promptLocation).style.color = color;
        };

        //skapar en prompt som visar verifieringen på formet.
    </script>

    <!-- ATT FIXA:
    BILDER I LOOPEN PÅ productsDiv
 // testa gör 2 listor och slå ihop dom! en med produkter och en med bilder.

   Att objekten från arrayen loopas ut på varsin rad?

Dubbelkolla så jag inte glömt något. -->

    </div>





</body>

</html>